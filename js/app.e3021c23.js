(function(){"use strict";var t={7398:function(t,e,a){var n=a(6848),s=function(){var t=this,e=t._self._c;return e("div",[e("router-view")],1)},o=[],i={name:"App"},r=i,l=a(1656),c=(0,l.A)(r,s,o,!1,null,null,null),u=c.exports,d=a(6178),m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("a-page-header",{attrs:{bordered:"",title:"Todo List"}}),e("a-button",{staticClass:"btn",on:{click:function(e){return t.showModal(null)}}},[t._v("Add")]),e("a-table",{attrs:{bordered:"","data-source":t.tasks,columns:t.columns,"row-key":t=>t.id,loading:t.loading,pagination:!1},scopedSlots:t._u([{key:"status",fn:function(a){return[e("a-select",{model:{value:a.status,callback:function(e){t.$set(a,"status",e)},expression:"task.status"}},[e("a-select-option",{attrs:{value:"done"}},[t._v(" Done ")]),e("a-select-option",{attrs:{value:"cancel"}},[t._v(" Cancel ")]),e("a-select-option",{attrs:{value:"new"}},[t._v(" New ")])],1)]}},{key:"date",fn:function(e){return[t._v(" "+t._s(new Date(e).toLocaleString("ru"))+" ")]}},{key:"actions",fn:function(n){return[e("a-button",{on:{click:function(e){return t.showModal(n)}}},[e("img",{attrs:{src:a(3374),alt:"edit"}})]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(e){return t.deleteTask(n)}}},[e("img",{attrs:{src:a(7779),alt:"delete"}})])]}}])}),e("a-modal",{attrs:{title:"Todo Item",visible:t.modalVisible,"confirm-loading":t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-form-model",{attrs:{model:t.form}},[e("a-form-model-item",{attrs:{label:"Name"}},[e("a-input",{attrs:{placeholder:"Enter todo name"},model:{value:t.form.label,callback:function(e){t.$set(t.form,"label",e)},expression:"form.label"}})],1),e("a-form-model-item",{attrs:{label:"Activity zone"}},[e("a-select",{attrs:{placeholder:"Please select status"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("a-select-option",{attrs:{value:"done"}},[t._v(" Done ")]),e("a-select-option",{attrs:{value:"cancel"}},[t._v(" Cancel ")]),e("a-select-option",{attrs:{value:"new"}},[t._v(" New ")])],1)],1)],1)],1)],1)},f=[],p=a(2479),h=a(1025),v=a(5816),b=a(7526),k=a(3518);const A=[{title:"ID",dataIndex:"id",width:"6%"},{title:"Name",dataIndex:"label",width:"20%",scopedSlots:{customRender:"label"}},{title:"Status",width:"30%",scopedSlots:{customRender:"status"}},{title:"Date",dataIndex:"created_at",scopedSlots:{customRender:"date"}},{title:"Actions",scopedSlots:{customRender:"actions"}}];var g={name:"IndexPage",components:{AButton:p.A,APageHeader:h.A,ATable:v.A,AInput:b.A},data(){return{loading:!1,modalVisible:!1,confirmLoading:!1,edit:!1,form:{label:"Новая задача",status:"new"},columns:A}},computed:{...(0,k.L8)(["tasks"])},methods:{handleOk(){this.confirmLoading=!0,setTimeout((()=>{this.modalVisible=!1,this.confirmLoading=!1,this.edit?this.$store.dispatch("updateTask",this.form):this.$store.dispatch("addTask",this.form)}),500)},showModal(t){this.edit=!1,t?(this.edit=!0,this.form={...t}):this.form={label:"Новая задача",status:"new"},this.modalVisible=!0},handleCancel(){this.modalVisible=!1},deleteTask(t){this.$store.dispatch("deleteTask",t)}}},T=g,w=(0,l.A)(T,m,f,!1,null,"6312e501",null),y=w.exports,_=[{path:"/vistat/",component:y,name:"home",meta:{title:"Vistat",description:"Тестовое задание"}}];const S=new d.Ay({routes:_,mode:"history",linkActiveClass:"active"});S.beforeEach((async(t,e,a)=>{if(t.meta["title"]){document.title=t.meta["title"];let e=document.querySelector('head meta[name="description"]');e&&t.meta["description"]&&e.setAttribute("content",t.meta["description"])}a()}));var x=S,O=(a(4114),{state:()=>({tasks:[{label:"Принять душ",status:"done",id:1,created_at:"2024-03-29T18:30:05.593Z"},{label:"Уложить детей",status:"new",id:2,created_at:"2024-03-29T20:51:05.593Z"},{label:"Приготовить спагетти",status:"cancel",id:3,created_at:"2024-03-29T14:24:05.593Z"}]}),getters:{tasks(t){return t.tasks.sort(((t,e)=>t.id-e.id))}},mutations:{ADD_TASK(t,e){t.tasks.push({...e,id:t.tasks[t.tasks.length-1].id+1,created_at:(new Date).toISOString()})},DELETE_TASK(t,e){const a=t.tasks.indexOf(e);t.tasks.splice(a,1)},UPDATE_TASK(t,e){const a=t.tasks.find((t=>t.id===e.id));t.tasks.splice(t.tasks.indexOf(a),1,{...e,label:e.label,status:e.status,created_at:(new Date).toISOString()})},UPDATE_TASKS(t){t.tasks.sort()}},actions:{addTask({commit:t},e){return new Promise((a=>{setTimeout((()=>{t("ADD_TASK",e),a()}),500)}))},deleteTask({commit:t},e){return new Promise((a=>{setTimeout((()=>{t("DELETE_TASK",e),a()}),0)}))},updateTask({commit:t},e){return new Promise((a=>{setTimeout((()=>{t("UPDATE_TASK",e),a()}),500)}))}}});n.Ay.use(k.Ay);var D=new k.Ay.Store({modules:{task:O}}),E=a(2024),P=a(3542),C=a(2924);a(3611);n.Ay.config.productionTip=!1,n.Ay.use(d.Ay),n.Ay.use(E.A),n.Ay.use(P.Ay),n.Ay.use(C.Ay),new n.Ay({router:x,store:D,render:t=>t(u)}).$mount("#app")},7779:function(t,e,a){t.exports=a.p+"img/delete.d0d6ed54.svg"},3374:function(t,e,a){t.exports=a.p+"img/edit.dccda710.svg"}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=t,function(){var t=[];a.O=function(e,n,s,o){if(!n){var i=1/0;for(u=0;u<t.length;u++){n=t[u][0],s=t[u][1],o=t[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,s,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){a.p="/vistat/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,o,i=n[0],r=n[1],l=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(l)var u=l(a)}for(e&&e(n);c<i.length;c++)o=i[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkvistat"]=self["webpackChunkvistat"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(7398)}));n=a.O(n)})();
//# sourceMappingURL=app.e3021c23.js.map